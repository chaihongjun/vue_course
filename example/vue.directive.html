<!--
* @Author: chj
* @FileName:vue.directive.html
* @Date:   2018-01-02 11:41:22
* @Last Modified by:   chj
* @Last Modified time: 2018-01-02 12:03:32
-->
<!DOCTYPE html>
<html lang="cmn-hans">

<head>
    <meta charset="utf-8">
    <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
    <!--PC端必选   强制360浏览器使用webkit渲染 -->
    <meta name="renderer" content="webkit">
    <!-- 必选 响应式  -->
    <script src="../assets/js/vue.js"></script>
    <title>vue.directive自定义指令</title>
</head>

<body>
    <h3>vue.directive自定义指令</h3>
    <hr>
    <div id="app">
        <div v-zidingyi="color">{{num}}</div>
        <p>
            <button @click="add">ADD</button>
        </p>
    </div>
    <script>
        //定义自定义指令
    Vue.directive("zidingyi", function(el, binding) {
        //这里el 参数指的是挂载绑定自定义指令的元素节点
        //binding 是一个对象
        console.log(el); //  <div style="color:red;">1</div>
        console.log(binding); //{name: "zidingyi", rawName: "v-zidingyi", value: "red", expression: "color", modifiers: {…}, …}
        console.log(binding.name);
        console.log(binding.value);
        console.log(binding.rawName);
        console.log(binding.expression);
        //给EL元素设置一个颜色
        el.style = "color:" + binding.value;
    });
    var app = new Vue({
        el: "#app",
        data: {
            num: 1,
            color: "red"
        },
        methods: {
            add: function() {
                this.num++;
            }
        }
    })
    </script>
</body>

</html>
